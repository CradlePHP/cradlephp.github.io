<!DOCTYPE html>
<html lang="en" class="branding ">
    <head>
        <meta charset="utf-8" />
        <title>Data - CradlePHP</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        
        <meta name="description" content="Data ArrayAccess Trait (4) Countable Trait (1) Iterator Trait (5) Magic Trait (4) Dot Trait (4) Generator Trait (1) Data Trait Reg" />
        
        <meta name="keywords" content="php,framework,cradle,data" />
        

        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

        <link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="icon" type="image/gif" href="/favicon.gif" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <!-- FACEBOOK TAGS -->
        <meta property="og:image" content="https://cradlephp.github.io/www/images/logo-long.png" />

        <meta property="og:title" content="Data - CradlePHP" />

        <meta property="og:description" content="Data ArrayAccess Trait (4) Countable Trait (1) Iterator Trait (5) Magic Trait (4) Dot Trait (4) Generator Trait (1) Data Trait Reg" />

        <meta property="og:type" content="website" />

        <meta property="og:url" content="https://cradlephp.github.io/" />

        <!-- TWITTER TAGS -->
        <meta name="twitter:card" content="summary" />

        <meta name="twitter:image" content="https://cradlephp.github.io/www/images/logo-long.png" />

        <meta name="twitter:title" content="Data - CradlePHP" />

        <meta name="twitter:description" content="Data ArrayAccess Trait (4) Countable Trait (1) Iterator Trait (5) Magic Trait (4) Dot Trait (4) Generator Trait (1) Data Trait Reg" />

        <meta name="twitter:url" content="https://cradlephp.github.io/" />

        <!-- SCHEMA.ORG TAGS -->
        <meta itemprop="name" content="Cradle PHP" />
        <meta itemprop="openingHours" content="Mo,Tu,We,Th,Fr 10:00-20:00" />

        <link itemprop="url" content="https://cradlephp.github.io/" />
        <link itemprop="logo" content="https://cradlephp.github.io/www/images/logo-long.png" />
        <link itemprop="image" content="https://cradlephp.github.io/www/images/logo-long.png" />

        <link rel="stylesheet" type="text/css" href="/bower_components/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" type="text/css" href="/bower_components/opensans-webfont-latin/css/opensans-latin.css" />
        <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="/www/styles/prism.css" />
        <link rel="stylesheet" type="text/css" href="/www/styles/custom.css" />

        <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    </head>

    <body>
    	<header>
            <nav class="navbar navbar-default navbar-branding navbar-static-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Cradle PHP" src="/www/images/logo-long.png" /></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="header">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/">Home</a></li>
                <li><a href="/docs/install.html">Getting Started</a></li>
                <li><a href="https://github.com/CradlePHP/Cradle"><i class="fa fa-github"></i></a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

        </header>

        <section class="body">
            <div class="container">
                
                 <div class="documentation">
    <div class="row">
        <div class="left col-xs-12 col-md-2">
            <h5>Getting Started</h5>
<ul>
    <li><a href="/docs/install.html">Install</a></li>
    <li><a href="/docs/introduction.html">Introduction</a></li>
    <li><a href="/docs/sink.html">Kitchen Sink</a></li>
</ul>

<h5>Concepts</h5>
<ul>
    <li><a href="/docs/events.html">Events</a></li>
    <li><a href="/docs/flows.html">Flows</a></li>
    <li><a href="/docs/routing.html">Routing</a></li>
    <li><a href="/docs/middleware.html">Middleware</a></li>
    <li><a href="/docs/request.html">Request</a></li>
    <li><a href="/docs/response.html">Response</a></li>
    <li><a href="/docs/integration.html">Integration</a></li>
    <li><a href="/docs/packages.html">Packages</a></li>
</ul>

<h5>Core Traits</h5>
<ul>
    <li><a href="/docs/helper.html">Helper</a></li>
    <li><a href="/docs/data.html">Data</a></li>
    <li><a href="/docs/resolver.html">Resolver</a></li>
    <li><a href="/docs/profiler.html">Profiler</a></li>
</ul>

<!--<h5>Core Packages</h5>
<ul>
    <li><a href="/docs/curl.html">cURL</a></li>
    <li><a href="/docs/handlebars.html">Handlebars</a></li>
    <li><a href="/docs/image.html">Image</a></li>
    <li><a href="/docs/sql.html">SQL</a></li>
</ul>-->

<h5>Kitchen Sink</h5>
<ul>
    <li><a href="/docs/sink-overview.html">Overview</a></li>
    <li><a href="/docs/sink-bootstrap.html">Bootstrap</a></li>
    <li><a href="/docs/sink-module.html">Modules</a></li>
    <li><a href="/docs/sink-app.html">Applications</a></li>
</ul>
<!--
    <li><a href="/docs/sink-cli.html">Custom CLI Commands</a></li>

    <li><a href="/docs/sink-auth.html">Authentication</a></li>
    <li><a href="/docs/sink-files.html">File Uploading</a></li>
    <li><a href="/docs/sink-mail.html">Sending Mail</a></li>
    <li><a href="/docs/sink-queue.html">Queuing Jobs</a></li>
    <li><a href="/docs/sink-optimization.html">Optimization</a></li>
    <li><a href="/docs/sink-security.html">Security Cases</a></li>
    <li><a href="/docs/sink-i18n.html">i18n</a></li>
</ul>-->
   
        </div>
        <div class="right col-xs-12 col-md-10">
        	<h1>Data</h1>
<ul>
<li><i class="fa fa-arrow-right"></i><a href="#arrayaccess">ArrayAccess Trait (4)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#countable">Countable Trait (1)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#iterator">Iterator Trait (5)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#magic">Magic Trait (4)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#dot">Dot Trait (4)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#generator">Generator Trait (1)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#data">Data Trait</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#registry">Registry Object (5)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#model">Model Object (2)</a></li>
<li><i class="fa fa-arrow-right"></i><a href="#collection">Collection Object (6)</a></li>
</ul>
<p>This section is all about data management, all of which perform tasks on a
singular protected property called <code class="language-php">$data</code>.</p>
<p><a name="arrayaccess"></a></p>
<h2><i class="fa fa-arrow-down"></i> ArrayAccess Trait</h2>
<p>The ArrayAccess trait wraps the ArrayAccess interface of PHP and when mounted
will allow your class to be accessed like an array. Mounting this trait can be
done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\ArrayAccessTrait

class MyClass
{
    use ArrayAccessTrait;

    protected $data = array();
}

</code></pre>
<p>The ArrayAccess trait implements the ArrayAccess interface exactly adding
<code class="language-php">offsetSet</code>, <code class="language-php">offsetGet</code>, <code class="language-php">offsetExists</code>, <code class="language-php">offsetUnset</code> methods to your class
which makes the following now possible.</p>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;

if(!isset($myClass['foo'])) {
    $myClass['foo'] = 'bar';
}

echo $myClass['foo']; //--&gt; 'bar'

unset($myClass['foo']);

</code></pre>
<p><a name="countable"></a></p>
<h2><i class="fa fa-arrow-down"></i> Countable Trait</h2>
<p>The Countable trait wraps the Countable interface of PHP and when mounted
will allow your class to be counted like an array. Mounting this trait can be
done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\CountableTrait

class MyClass
{
    use CountableTrait;
    protected $data = array();
}

</code></pre>
<p>The Countable trait implements the Countable interface exactly adding the
<code class="language-php">count</code> method to your class which makes the following now possible.</p>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;
echo count($myClass); //--&gt; 0

</code></pre>
<p><a name="iterator"></a></p>
<h2><i class="fa fa-arrow-down"></i> Iterator Trait</h2>
<p>The Iterator trait wraps the Iterator interface of PHP and when mounted
will allow your class to be iterated like an array. Mounting this trait can be
done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\IteratorTrait

class MyClass
{
    use IteratorTrait;

    protected $data = array();
}

</code></pre>
<p>The Iterator trait implements the Iterator interface exactly adding
<code class="language-php">rewind</code>, <code class="language-php">current</code>, <code class="language-php">next</code>, <code class="language-php">key</code>, <code class="language-php">valid</code> methods to your class
which makes the following now possible.</p>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;

foreach($myClass as $key =&gt; $value) {
    //Do something
}

</code></pre>
<p><a name="magic"></a></p>
<h2><i class="fa fa-arrow-down"></i> Magic Trait</h2>
<p>The Magic trait adds extra accessors for the data array. Mounting this trait can be
done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\MagicTrait;

class MyClass
{
    use MagicTrait {
        MagicTrait::__getData as __get;
        MagicTrait::__setData as __set;
        MagicTrait::__callData as __call;
        MagicTrait::__toStringData as __toString;
    }

    protected $data = array();
}

</code></pre>
<p>The Magic trait implements three magic methods adding <code class="language-php">__call</code>, <code class="language-php">__get</code>,
<code class="language-php">__set</code> methods to your class which makes the following now possible.</p>
<div class="alert alert-info"><i class="fa fa-info-circle"></i> We suffixed the magic methods with `'Data'` as in `__getData` to keep the
methods free for you to define as you can always alias them.
</div>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;

$myClass-&gt;setFooBar('zoo'); // $data['foo_bar']
echo $myClass-&gt;getFooBar(); //--&gt; 'zoo'

$myClass-&gt;foo_bar = 'zoo'; // $data['foo_bar']
echo $myClass-&gt;foo_bar; //--&gt; 'zoo'

echo $myClass; //--&gt; &lt;JSON string&gt;

</code></pre>
<p><a name="dot"></a></p>
<h2><i class="fa fa-arrow-down"></i> Dot Trait</h2>
<p>The Dot trait adds accessors to help manage three or more dimensional arrays.
Mounting this trait can be done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\DotTrait;

class MyClass
{
    use DotTrait;

    protected $data = array();
}

</code></pre>
<p>The Dot trait implements a four methods called <code class="language-php">getDot</code>, <code class="language-php">setDot</code>,
<code class="language-php">isDot</code>, <code class="language-php">removeDot</code> which can be used like the following</p>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;

$myClass-&gt;setDot('some.path.to.value', 'foobar'); // $data['some']['path']['to']['value'] = 'foobar'

$myClass-&gt;getDot('some.path.to.value'); //--&gt; 'foobar'
$myClass-&gt;getDot('some.path.to'); //--&gt; ['value' =&gt; 'foobar']

$myClass-&gt;removeDot('some.path');
$myClass-&gt;isDot('some.path'); //--&gt; false

</code></pre>
<div class="alert alert-info"><i class="fa fa-info-circle"></i> All dot methods have an extra parameter where you can specify the delimeter.
</div>
<pre class="code line-numbers language-php"><code class="marked">
$myClass-&gt;getDot('some-path-to-value', '-');

</code></pre>
<p><a name="generator"></a></p>
<h2><i class="fa fa-arrow-down"></i> Generator Trait</h2>
<p>The Generator trait takes advantage of PHP generators.
Mounting this trait can be done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\GeneratorTrait;

class MyClass
{
    use GeneratorTrait;

    protected $data = array();
}

</code></pre>
<p>The Generator trait implements a single method called <code class="language-php">generator</code> which can be
used like the following.</p>
<pre class="code line-numbers language-php"><code class="marked">
$myClass = new MyClass;

foreach($myClass-&gt;generator() as $key =&gt; $value) {
    //Do something
}

</code></pre>
<p><a name="data"></a></p>
<h2><i class="fa fa-arrow-down"></i> Data Trait</h2>
<p>The data trait combines all the aforementioned traits so you wouldn't have to
declare them one by one <em>(on the off chance you would want to use all of them)</em>.
Mounting this trait can be done with the following example.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\DataTrait;

class MyClass
{
    use DataTrait;
}

</code></pre>
<p><a name="registry"></a></p>
<h2><i class="fa fa-arrow-down"></i> Registry Object</h2>
<p>A registry object contains methods to easily manage a multidimensional array.
Implementing this object can be done like so.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\Registry;

$registry1 = new Registry;

//or

$registry2 = new Registry(['zoo' =&gt; ['foo' =&gt; ['bar']]]);

</code></pre>
<p>On top of all the <code class="language-php">DataTrait</code> methods, the registry implements 5 additional
methods.</p>
<p><code class="language-php">exists</code> - Returns true if the data has the given key path or whether
if there is data at all.</p>
<pre class="code line-numbers language-php"><code class="marked">
$registry1-&gt;exists(); //--&gt; false
$registry2-&gt;exists(); //--&gt; true

$registry2-&gt;exists('zoo'); //--&gt; true
$registry2-&gt;exists('zoo', 'foo'); //--&gt; true
$registry2-&gt;exists('foo', 'bar'); //--&gt; false

</code></pre>
<hr />
<p><code class="language-php">get</code> - Returns part of the data given the key path or the entire data set.</p>
<pre class="code line-numbers language-php"><code class="marked">
$registry2-&gt;get(); //--&gt; ['zoo' =&gt; ['foo' =&gt; ['bar']]]

$registry2-&gt;get('zoo'); //--&gt; ['foo' =&gt; ['bar']]
$registry2-&gt;get('zoo', 'foo'); //--&gt; ['bar']
$registry2-&gt;get('zoo', 'foo', 0); //--&gt; 'bar'

</code></pre>
<hr />
<p><code class="language-php">isEmpty</code> - Returns true if the data, given key path is empty or whether
if there is data at all.</p>
<pre class="code line-numbers language-php"><code class="marked">
$registry1-&gt;isEmpty(); //--&gt; true
$registry2-&gt;isEmpty(); //--&gt; false

$registry2-&gt;isEmpty('zoo'); //--&gt; false
$registry2-&gt;isEmpty('zoo', 'foo'); //--&gt; false
$registry2-&gt;isEmpty('foo', 'bar'); //--&gt; true

</code></pre>
<hr />
<p><code class="language-php">remove</code> - Removes part of the data given the key path or the entire data set.</p>
<pre class="code line-numbers language-php"><code class="marked">
$registry2-&gt;remove('zoo', 'foo', 0); // 'bar'
$registry2-&gt;remove('zoo', 'foo'); // ['bar']
$registry2-&gt;remove('zoo'); // ['foo' =&gt; ['bar']]
$registry2-&gt;remove(); // ['zoo' =&gt; ['foo' =&gt; ['bar']]]

$registry2-&gt;remove('foo', 'bar'); // does nothing because it doesn't exist

</code></pre>
<hr />
<p><code class="language-php">set</code> - Sets part of the data given the key path or the entire data set.</p>
<pre class="code line-numbers language-php"><code class="marked">
$registry2-&gt;set('zoo', 'foo', 0, 'bar'); // ['zoo' =&gt; ['foo' =&gt; ['bar']]]

</code></pre>
<p><a name="model"></a></p>
<h2><i class="fa fa-arrow-down"></i> Model Object</h2>
<p>A model object simply deals with key/value pairs. Models become useful when
pairing it with a data store, JSON results, services etc. Implementing this
object can be done like so.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\Model;

$model1 = new Model;

//or

$model2 = new Model(['foo_bar' =&gt; 'zoo']);

</code></pre>
<p>On top of all the <code class="language-php">DataTrait</code> methods, the model object implements 2 additional
methods.</p>
<p><code class="language-php">get</code> - Returns the entire data set.</p>
<pre class="code line-numbers language-php"><code class="marked">
$model2-&gt;get(); //--&gt; ['foo_bar' =&gt; 'zoo']

</code></pre>
<hr />
<p><code class="language-php">set</code> - Sets the entire data set.</p>
<pre class="code line-numbers language-php"><code class="marked">
$model1-&gt;set(['foo_bar' =&gt; 'zoo']);

</code></pre>
<p><a name="collection"></a></p>
<h2><i class="fa fa-arrow-down"></i> Collection Object</h2>
<p>A collection object helper manages a list of models. Collections become
useful when pairing it with a data store, JSON results, services etc.
Implementing this object can be done like so.</p>
<pre class="code line-numbers language-php"><code class="marked">
use Cradle\Data\Collection;

$collection = new Collection;

</code></pre>
<p>A collection object only mounts <code class="language-php">ArrayAccessTrait</code>, <code class="language-php">CountableTrait</code>,
<code class="language-php">GeneratorTrait</code>, <code class="language-php">IteratorTrait</code> and implements 6 additional methods.</p>
<p><code class="language-php">add</code> - Appends a model to the collection</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;add(new Model);

</code></pre>
<hr />
<p><code class="language-php">cut</code> - Removes a model in the collection given the index number and
reindexes the collection.</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;cut(1); //removes the second model
$collection-&gt;cut('first'); //removes the first model
$collection-&gt;cut('last'); //removes the last model

</code></pre>
<hr />
<p><code class="language-php">each</code> - Loops through each model in the list</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;each(function($model) {
    //do something
});

</code></pre>
<hr />
<p><code class="language-php">get</code> - Returns the entire dataset as pure arrays</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;each(function($model) {
    //do something
});

</code></pre>
<hr />
<p><code class="language-php">getModel</code> - Transforms an array into a model</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;getModel(['foo' =&gt; 'bar']); //--&gt; Model

</code></pre>
<hr />
<p><code class="language-php">set</code> - Sets the collection</p>
<pre class="code line-numbers language-php"><code class="marked">
$collection-&gt;set([
    ['foo' =&gt; 'bar'],
    ['foo' =&gt; 'zoo']
])

</code></pre>
        </div>

    </div>
</div>

            </div>
        </section>
        <footer>
            <div class="container">
	<div class="top clearfix">
        <div class="left pull-left">
            <div>
                <div class="logo pull-left"><img src="/www/images/logo-square.png" /></div>
                <div class="title">Cradle PHP</div>
                <ul>
                    <li><a href="https://github.com/CradlePHP/Cradle">GitHub</a></li>
                    <li><a href="https://packagist.org/packages/cradlephp/cradle">Packagist</a></li>
                </ul>
            </div>
        </div>

        <div class="middle pull-right">
            <ul>
                <li><a href="/docs/install.html">Getting Started</a></li>
                <li><a href="/docs/introduction.html">Introduction</a></li>
                <li><a href="/docs/introduction.html">Documentation</a></li>
            </ul>
        </div>


    </div>
    <div class="masthead">
    	<center class="copy">
            <a href="https://travis-ci.org/CradlePHP/framework"><img src="https://travis-ci.org/CradlePHP/framework.svg?branch=master" alt="Travis CI" style="max-width:100%;"></a>
            <a href='https://coveralls.io/github/CradlePHP/framework?branch=master'><img src='https://coveralls.io/repos/github/CradlePHP/framework/badge.svg?branch=master' alt='Coverage Status' /></a>
            <a href="https://packagist.org/packages/cradlephp/framework"><img src="https://poser.pugx.org/cradlephp/framework/v/stable" alt="Latest Stable Version"  style="max-width:100%;"></a>
            <a href="https://packagist.org/packages/cradlephp/framework"><img alt="Total Downloads" src="https://poser.pugx.org/cradlephp/framework/downloads" style="max-width:100%;"></a>
            <a href="https://packagist.org/packages/cradlephp/framework"><img alt="Latest Unstable Version" src="https://poser.pugx.org/cradlephp/framework/v/unstable" style="max-width:100%;"></a>
            <a href="https://packagist.org/packages/cradlephp/framework"><img alt="License" src="https://poser.pugx.org/cradlephp/framework/license" style="max-width:100%;"></a>
            <br /><br />&copy; CradlePHP 2016
        </center>
    </div>
</div>

        </footer>
        <script type="text/javascript" src="/www/scripts/prism.js"></script>
    </body>
</html>
